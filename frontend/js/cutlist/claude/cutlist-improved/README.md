# Cut-list Optimizer v3.0 - Upgrade Guide üåæ

## –ö–∞–∫–≤–æ –µ –ø–æ–¥–æ–±—Ä–µ–Ω–æ?

### üÜï –ù–æ–≤–∏ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **Grain Direction Support**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ—Ç–µ–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ grain –±–∞–∑–∏—Ä–∞–Ω–æ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª
   - –û–≥—Ä–∞–Ω–∏—á–∞–≤–∞–Ω–µ –Ω–∞ rotation –∫–æ–≥–∞—Ç–æ –±–∏ –Ω–∞—Ä—É—à–∏–ª grain alignment
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ grain —Å –ª–∏–Ω–∏–∏ –∏ —Å—Ç—Ä–µ–ª–∫–∏
   - Tracking –Ω–∞ grain violations

2. **Priority System**
   - –í–∞–∂–Ω–∏—Ç–µ –¥–µ—Ç–∞–π–ª–∏ (—Ñ–∞—Å–∞–¥–∏) —Å–µ –ø–æ—Å—Ç–∞–≤—è—Ç –ø—ä—Ä–≤–∏
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1-10, –ø–æ-–≤–∏—Å–æ–∫–æ = –ø–æ-–≤–∞–∂–Ω–æ

3. **Material Matching**
   - –î–µ—Ç–∞–π–ª–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª—è—Ç —Å–∞–º–æ –≤ –ª–∏—Å—Ç–æ–≤–µ –æ—Ç —Å—ä—â–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª
   - –•–î–õ –¥–µ—Ç–∞–π–ª–∏ ‚Üí –•–î–õ –ª–∏—Å—Ç–æ–≤–µ
   - –ü–î–ß –¥–µ—Ç–∞–π–ª–∏ ‚Üí –ü–î–ß –ª–∏—Å—Ç–æ–≤–µ

4. **Enhanced Statistics**
   - Grain compliance rate (% —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ)
   - Grain violations counter
   - Per-sheet grain compliance

## üì¶ –§–∞–π–ª–æ–≤–µ:

```
cutlist-improved/
‚îú‚îÄ‚îÄ cutlist-grain.html    # –ù–æ–≤ UI —Å grain controls
‚îú‚îÄ‚îÄ engine.js             # Engine —Å grain support
‚îî‚îÄ‚îÄ visualizer.js         # SVG visualizer —Å grain rendering
```

## üöÄ –ö–∞–∫ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—à:

### 1. –û—Ç–≤–æ—Ä–∏ `cutlist-grain.html` –≤ –±—Ä–∞—É–∑—ä—Ä

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚úÖ **–ü–æ–∑–≤–æ–ª–∏ –∑–∞–≤—ä—Ä—Ç–∞–Ω–µ** - —Ä–∞–∑—Ä–µ—à–∞–≤–∞ rotation –Ω–∞ –¥–µ—Ç–∞–π–ª–∏
- ‚úÖ **üåæ –£–≤–∞–∂–∞–≤–∞–π grain** - –Ω–µ –∑–∞–≤—ä—Ä—Ç–∞ –∞–∫–æ –±–∏ –Ω–∞—Ä—É—à–∏–ª grain
- ‚úÖ **–ü–æ–∫–∞–∂–∏ grain** - –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–∞ grain –≤ SVG

### 3. –î–æ–±–∞–≤–∏ –¥–µ—Ç–∞–π–ª:
- –ò–º–µ, —Ä–∞–∑–º–µ—Ä–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- –ú–∞—Ç–µ—Ä–∏–∞–ª (–ü–î–ß/–ú–î–§/–•–î–õ/–ú–∞—Å–∏–≤)
- **üåæ Grain Direction:**
  - ü§ñ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** - engine —Ä–µ—à–∞–≤–∞ (–ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)
  - ‚Üí **Horizontal** - grain –µ —Ö–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–µ–Ω
  - ‚Üë **Vertical** - grain –µ –≤–µ—Ä—Ç–∏–∫–∞–ª–µ–Ω
  - ‚óã **Any** - –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ

### 4. –î–æ–±–∞–≤–∏ –ª–∏—Å—Ç:
- –ú–∞—Ç–µ—Ä–∏–∞–ª, —Ä–∞–∑–º–µ—Ä–∏, —Ü–µ–Ω–∞
- **üåæ Grain –Ω–∞ –ª–∏—Å—Ç–∞** - –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ horizontal

### 5. –ò–ó–ß–ò–°–õ–ò!

## üéØ Best Practices:

### –ö–æ–≥–∞ grain –µ –≤–∞–∂–µ–Ω?
- ‚úÖ **–•–î–õ** - –í–ò–ù–ê–ì–ò –∏–º–∞ grain
- ‚úÖ **–ú–∞—Å–∏–≤** - –í–ò–ù–ê–ì–ò –∏–º–∞ grain
- ‚úÖ **–§—É—Ä–Ω–∏—Ä** - –í–ò–ù–ê–ì–ò –∏–º–∞ grain
- ‚ùå **–ü–î–ß** - –Ω—è–º–∞ grain (–º–æ–∂–µ –¥–∞ —Å–µ –≤—ä—Ä—Ç–∏ —Å–≤–æ–±–æ–¥–Ω–æ)
- ‚ùå **–ú–î–§** - –Ω—è–º–∞ grain

### Grain Rules:

```
‚úÖ –ü–†–ê–í–ò–õ–ù–û:
Sheet: horizontal (‚Üí)
Part:  horizontal (‚Üí)
Rotation: NO
Result: Grain aligned ‚úì

‚ùå –ì–†–ï–®–ù–û:
Sheet: horizontal (‚Üí)
Part:  horizontal (‚Üí)
Rotation: YES
Result: Part —Å—Ç–∞–≤–∞ vertical (‚Üë) - GRAIN VIOLATION ‚ö†
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∏:

```javascript
// –§–∞—Å–∞–¥–∏/–≤—Ä–∞—Ç–∏ - –º–Ω–æ–≥–æ –≤–∞–∂–Ω–∏
Priority: 9-10

// –°—Ç—Ä–∞–Ω–∏—á–Ω–∏ –ø–∞–Ω–µ–ª–∏ - –≤–∞–∂–Ω–∏
Priority: 6-8

// –†–∞—Ñ—Ç–æ–≤–µ/–¥—ä–Ω–∞ - –ø–æ-–º–∞–ª–∫–æ –≤–∞–∂–Ω–∏
Priority: 3-5

// –ì—Ä—ä–±–æ–≤–µ - –Ω–µ —Å–∞ –≤–∞–∂–Ω–∏
Priority: 1-2
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

–°–ª–µ–¥ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ –≤–∏–∂—Ç–µ:

### –†–µ–∑—É–ª—Ç–∞—Ç–∏ —Ç–∞–±:
- **–ò–∑–ø–æ–ª–∑–≤–∞–Ω–∏ –ª–∏—Å—Ç–æ–≤–µ** - –∫–æ–ª–∫–æ –ª–∏—Å—Ç–∞ —Å–∞ –Ω—É–∂–Ω–∏
- **–ü–æ—Å—Ç–∞–≤–µ–Ω–∏ –¥–µ—Ç–∞–π–ª–∏** - X/Y (–∫–æ–ª–∫–æ –æ—Ç –≤—Å–∏—á–∫–∏—Ç–µ —Å–∞ –ø–æ—Å—Ç–∞–≤–µ–Ω–∏)
- **–ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç** - % –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- **üåæ Grain –°—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** - % –¥–µ—Ç–∞–π–ª–∏ —Å –ø—Ä–∞–≤–∏–ª–µ–Ω grain
  - ‚úÖ –ó–µ–ª–µ–Ω–æ = 100% (–Ω—è–º–∞ violations)
  - ‚ö†Ô∏è –ß–µ—Ä–≤–µ–Ω–æ = <100% (–∏–º–∞ violations)

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±:
- SVG –Ω–∞ –≤—Å–µ–∫–∏ –ª–∏—Å—Ç
- –î–µ—Ç–∞–π–ª–∏—Ç–µ —Å–∞ –æ—Ü–≤–µ—Ç–µ–Ω–∏ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª
- üåæ Grain lines –ø–æ–∫–∞–∑–≤–∞—Ç –ø–æ—Å–æ–∫–∞—Ç–∞
- ‚ö†Ô∏è –ß–µ—Ä–≤–µ–Ω border –∑–∞ grain violations
- üîÑ –ñ—ä–ª—Ç —Ç—Ä–∏—ä–≥—ä–ª–Ω–∏–∫ –∑–∞ –∑–∞–≤—ä—Ä—Ç–µ–Ω–∏ –¥–µ—Ç–∞–π–ª–∏

### –û—Ç—á–µ—Ç —Ç–∞–±:
- –î–µ—Ç–∞–π–ª–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –∑–∞ –≤—Å–µ–∫–∏ –ª–∏—Å—Ç
- –°–ø–∏—Å—ä–∫ –Ω–∞ –¥–µ—Ç–∞–π–ª–∏—Ç–µ
- Grain violations —Å–∞ –º–∞—Ä–∫–∏—Ä–∞–Ω–∏

## üîß Advanced:

### Auto-detection –ª–æ–≥–∏–∫–∞:

```javascript
// –ó–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∏ —Å grain:
if (–º–∞—Ç–µ—Ä–∏–∞–ª === '–•–î–õ' || '–ú–∞—Å–∏–≤' || '–§—É—Ä–Ω–∏—Ä') {
    if (width >= height) {
        grain = 'horizontal'  // –ü–æ-–¥—ä–ª–≥–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∞
    } else {
        grain = 'vertical'
    }
}

// –ó–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∏ –±–µ–∑ grain:
if (–º–∞—Ç–µ—Ä–∏–∞–ª === '–ü–î–ß' || '–ú–î–§') {
    grain = 'any'  // –ú–æ–∂–µ –¥–∞ —Å–µ –≤—ä—Ä—Ç–∏ —Å–≤–æ–±–æ–¥–Ω–æ
}
```

### Grain Penalty:

Engine –¥–∞–≤–∞ **+1000 score penalty** –∑–∞ placements –∫–æ–∏—Ç–æ –Ω–∞—Ä—É—à–∞–≤–∞—Ç grain.
–¢–æ–≤–∞ –æ–∑–Ω–∞—á–∞–≤–∞ —á–µ —â–µ –∏–∑–±–µ—Ä–µ –ø–æ-–º–∞–ª–∫–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –º—è—Å—Ç–æ –∞–∫–æ —Ç–æ –∑–∞–ø–∞–∑–≤–∞ grain alignment.

## ‚ùì FAQ:

**Q: –ó–∞—â–æ engine –Ω–µ –≤—ä—Ä—Ç–∞ –¥–µ—Ç–∞–π–ª –º–∞–∫–∞—Ä —á–µ –∏–º–∞ –º—è—Å—Ç–æ?**
A: –ó–∞—â–æ—Ç–æ rotation –±–∏ –Ω–∞—Ä—É—à–∏–ª grain direction. –ò–∑–∫–ª—é—á–∏ "–£–≤–∞–∂–∞–≤–∞–π grain" –∞–∫–æ –∏—Å–∫–∞—à –º–∞–∫—Å–∏–º–∞–ª–Ω–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç –±–µ–∑ –æ–≥–ª–µ–¥ –Ω–∞ grain.

**Q: –ö–∞–∫–≤–æ –∑–Ω–∞—á–∏ "Grain compliance 85%"?**
A: 85% –æ—Ç –¥–µ—Ç–∞–π–ª–∏—Ç–µ —Å–∞ –ø—Ä–∞–≤–∏–ª–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞–Ω–∏ —Å–ø—Ä—è–º–æ grain –Ω–∞ –ª–∏—Å—Ç–∞. 15% —Å–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è (–∑–∞–≤—ä—Ä—Ç–µ–Ω–∏ –∫–æ–≥–∞—Ç–æ –Ω–µ —Ç—Ä—è–±–≤–∞).

**Q: –ö–∞–∫ –¥–∞ –∏–∑–±–µ–≥–Ω–∞ grain violations?**
A: 
1. –£–≤–µ—Ä–∏ —Å–µ —á–µ –ª–∏—Å—Ç–æ–≤–µ—Ç–µ –∏ –¥–µ—Ç–∞–π–ª–∏—Ç–µ –∏–º–∞—Ç —Å—ä—â–∞—Ç–∞ grain direction
2. –ù–µ –∑–∞–¥–∞–≤–∞–π "vertical" –¥–µ—Ç–∞–π–ª –≤ "horizontal" –ª–∏—Å—Ç
3. –ò–∑–ø–æ–ª–∑–≤–∞–π "auto" grain detection

**Q: –ü–î–ß –¥–µ—Ç–∞–π–ª —Å–µ –≤—ä—Ä—Ç–∏ –≤ –•–î–õ –ª–∏—Å—Ç?**
A: –ù–ï! Engine –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –º–∞—Ç–µ—Ä–∏–∞–ª match. –ü–î–ß –¥–µ—Ç–∞–π–ª —â–µ –æ—Ç–∏–¥–µ —Å–∞–º–æ –≤ –ü–î–ß –ª–∏—Å—Ç.

## üêõ Troubleshooting:

### Engine –Ω–µ –ø–æ—Å—Ç–∞–≤—è –¥–µ—Ç–∞–π–ª–∏?
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –∏–º–∞ –ª–∏—Å—Ç –æ—Ç —Å—ä—â–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –ª–∏—Å—Ç—ä—Ç –µ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –≥–æ–ª—è–º
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ grain settings

### –ú–Ω–æ–≥–æ grain violations?
- –ü—Ä–æ–º–µ–Ω–µ—Ç–µ grain direction –Ω–∞ –ª–∏—Å—Ç–æ–≤–µ—Ç–µ
- –ü—Ä–æ–º–µ–Ω–µ—Ç–µ grain direction –Ω–∞ –¥–µ—Ç–∞–π–ª–∏—Ç–µ
- –ò–∑–∫–ª—é—á–µ—Ç–µ "–£–≤–∞–∂–∞–≤–∞–π grain" (–Ω–µ –ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)

### –ù–∏—Å–∫–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç?
- Grain compliance –º–æ–∂–µ –¥–∞ –Ω–∞–º–∞–ª–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—Ç–∞ —Å 5-15%
- –¢–æ–≤–∞ –µ –Ω–æ—Ä–º–∞–ª–Ω–æ - –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ > –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç
- –ó–∞ –º–∞–∫—Å–∏–º–∞–ª–Ω–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç: –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –ü–î–ß/–ú–î–§

## üìù Example Projects:

–í–∏–∂—Ç–µ —Ñ–∞–π–ª–∞ `example-grain.html` –∑–∞ –ø—ä–ª–µ–Ω —Ä–∞–±–æ—Ç–µ—â –ø—Ä–∏–º–µ—Ä.

---

**Version:** 3.0  
**Date:** February 11, 2026  
**Changes:** Added grain direction support + material matching + priority system
